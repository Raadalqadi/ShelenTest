"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[364],{130:(C,e,s)=>{s.d(e,{T:()=>t});const t="https://localhost:5280"},3963:(C,e,s)=>{s.d(e,{R:()=>n});var t=s(579);const n=()=>(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("rect",{width:"24",height:"24",rx:"12",fill:"#F4F9D2"}),(0,t.jsx)("path",{d:"M6 12L10 16L18 8",stroke:"#90B524","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})},7364:(C,e,s)=>{s.r(e),s.d(e,{default:()=>h});var t=s(7127),n=s(5043),r=s(3963),a=s(6213),i=s(579);const o=()=>(0,i.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsxs)("g",{"clip-path":"url(#clip0_923_297)",children:[(0,i.jsx)("path",{d:"M12.9126 27.4595C12.9138 27.4604 12.9148 27.4614 12.916 27.4626C13.7534 28.2871 14.8601 28.7407 16.0369 28.7407C17.2253 28.7407 18.3425 28.2778 19.1829 27.4375C20.0232 26.5972 20.4861 25.48 20.4861 24.2915C20.4861 23.103 20.0232 21.9858 19.1829 21.1455C18.3425 20.3052 17.2253 19.8423 16.0369 19.8423C14.8484 19.8423 13.731 20.3052 12.8906 21.1455C12.0505 21.9858 11.5876 23.103 11.5876 24.2915C11.5876 25.48 12.0505 26.5972 12.8906 27.4375L12.9126 27.4595ZM13.8914 27.0713C13.8025 27.0029 13.717 26.9302 13.6357 26.854C13.6345 26.8528 13.6333 26.8518 13.6321 26.8506C13.626 26.8447 13.6199 26.8391 13.6138 26.8335C13.606 26.8259 13.5979 26.8181 13.5901 26.8105C13.5872 26.8076 13.5842 26.8047 13.5813 26.8018C13.572 26.793 13.5627 26.7837 13.5537 26.7747C13.5444 26.7654 13.5354 26.7563 13.5264 26.7471C13.5217 26.7424 13.5173 26.7375 13.5127 26.7329C13.509 26.729 13.5054 26.7253 13.502 26.7217C13.4565 26.6743 13.4124 26.6252 13.3691 26.575L13.8162 26.1279C14.1887 25.7554 14.4312 25.2625 14.4988 24.74L14.7068 23.1326C14.7122 23.1216 14.7224 23.1138 14.7349 23.1116L15.9231 22.9065L15.3582 23.4712C15.1414 23.6882 15.022 23.9766 15.022 24.2832C15.022 24.5898 15.1416 24.8782 15.3584 25.095C15.8062 25.543 16.5347 25.5427 16.9824 25.095L17.5469 24.5303L17.3418 25.7185C17.3396 25.731 17.3318 25.7412 17.3208 25.7466L15.7136 25.9546C15.1909 26.0222 14.698 26.2646 14.3254 26.6372L13.8914 27.0713ZM13.5537 21.8083C14.2383 21.1238 15.1375 20.7815 16.0369 20.7815C16.936 20.7815 17.8354 21.1238 18.52 21.8083C19.8892 23.1777 19.8892 25.4055 18.52 26.7747C17.4985 27.7961 15.9995 28.0554 14.7354 27.553L14.9883 27.3C15.2151 27.0732 15.5154 26.9255 15.8335 26.8843L17.4739 26.6721C17.4878 26.6704 17.5017 26.668 17.5154 26.6648C17.9033 26.5786 18.1978 26.2698 18.2654 25.8782L18.5803 24.0544C18.616 23.8479 18.5488 23.6362 18.4006 23.4883L18.2886 23.3762C18.2886 23.3762 18.2886 23.3762 18.2883 23.376C18.0366 23.1245 17.627 23.1245 17.3752 23.3762L16.3193 24.4321C16.2371 24.5142 16.1033 24.5142 16.021 24.4321C15.939 24.3499 15.939 24.2163 16.021 24.134L17.0774 23.0779C17.1992 22.9558 17.2664 22.7937 17.2664 22.6211C17.2664 22.4487 17.1992 22.2866 17.0771 22.1648L16.9651 22.0527C16.8169 21.9043 16.605 21.8372 16.3987 21.873L14.5752 22.1877C14.1836 22.2554 13.8748 22.5498 13.7886 22.9377C13.7854 22.9517 13.783 22.9653 13.7812 22.9795L13.5691 24.6196C13.5278 24.9377 13.3801 25.238 13.1533 25.4651L12.8503 25.7678C12.2502 24.4695 12.4846 22.8772 13.5537 21.8083Z",fill:"#90B524"}),(0,i.jsx)("path",{d:"M30.4882 30.1345L29.3877 23.6919C29.1799 22.4763 28.4902 21.4067 27.4785 20.7161L27.5412 19.7019C27.5659 19.303 27.4231 18.907 27.1491 18.6155C26.8755 18.3242 26.489 18.1572 26.0891 18.1572H19.5576C19.519 18.0417 19.4983 17.9241 19.4983 17.8152V16.1875C19.7746 16.0098 20.0427 15.8091 20.302 15.5857C20.7295 15.2175 21.0954 14.7896 21.3923 14.3159L22.6692 14.1619C23.0808 14.1123 23.3911 13.7622 23.3911 13.3479V12.1599C24.0566 11.9292 24.5359 11.2959 24.5359 10.5527V8.63477C24.5359 7.81128 23.9475 7.12256 23.1689 6.96704V6.02979C23.1689 5.77075 22.9589 5.56104 22.7002 5.56104C22.4411 5.56104 22.2314 5.77075 22.2314 6.02979V7.69092C22.0444 7.72339 21.8205 7.78003 21.5915 7.87891C21.5905 7.87915 21.5898 7.87964 21.5888 7.88013C21.5222 7.90894 21.4575 7.94043 21.3955 7.97412V5.04956C21.3955 4.00781 20.5478 3.16016 19.5061 3.16016H18.2153C17.7697 3.16016 17.3347 3.31543 16.9897 3.59741L16.863 3.70093C16.6306 3.89111 16.3371 3.99561 16.0368 3.99561C15.7365 3.99561 15.4431 3.89111 15.2107 3.70093L15.0839 3.59741C14.739 3.31543 14.3039 3.16016 13.8586 3.16016H12.5676C11.5258 3.16016 10.6784 4.00781 10.6784 5.04956V7.97412C10.6162 7.94043 10.5517 7.90894 10.4848 7.88013C10.4841 7.87964 10.4831 7.87915 10.4824 7.87891C10.2531 7.78003 10.0293 7.72339 9.84249 7.69092V3.68286C9.84249 2.16895 11.0739 0.9375 12.5876 0.9375H19.4863C21 0.9375 22.2314 2.16895 22.2314 3.68286V3.84912C22.2314 4.10791 22.4414 4.31787 22.7002 4.31787C22.9592 4.31787 23.1689 4.10791 23.1689 3.84912V3.68286C23.1689 1.6521 21.5168 0 19.486 0H12.5874C10.5568 0 8.90475 1.6521 8.90475 3.68286V6.96704C8.12618 7.12256 7.5378 7.81128 7.5378 8.63477V10.5527C7.5378 11.4905 8.30074 12.2534 9.23849 12.2534H9.88497C10.1267 13.5676 10.7846 14.7358 11.7714 15.5857C12.031 15.8091 12.299 16.0098 12.5754 16.1875V17.8154C12.5754 17.9241 12.5544 18.0417 12.5158 18.1572H5.98458C5.58468 18.1572 5.1982 18.3242 4.92452 18.6157C4.65059 18.907 4.50777 19.303 4.53243 19.7019L4.59517 20.7163C3.58346 21.4067 2.89351 22.4763 2.68599 23.6919L1.58541 30.1345C1.50606 30.5994 1.63497 31.0725 1.93892 31.4329C2.24288 31.7932 2.6877 32 3.15914 32H28.9143C29.3857 32 29.8305 31.7932 30.1345 31.4329C30.4387 31.0725 30.5676 30.5994 30.4882 30.1345ZM22.2461 8.64551C22.489 8.58569 22.6828 8.58618 22.6894 8.58618C22.6933 8.58643 22.6975 8.58643 22.7014 8.58643C22.7763 8.58618 22.8491 8.56812 22.9145 8.53467C22.9282 8.52759 22.9416 8.51978 22.9548 8.51123C22.9611 8.50708 22.9677 8.50269 22.9738 8.49829C22.9929 8.48462 23.0109 8.46948 23.0278 8.45288C23.1181 8.36475 23.1689 8.2439 23.1689 8.11768V7.94849C23.4231 8.07251 23.5984 8.33374 23.5984 8.63477V10.5527C23.5984 10.9736 23.2561 11.3159 22.8352 11.3159H22.2463V8.64551H22.2461ZM22.1884 12.2534H22.4533V13.2437L21.8925 13.3113C22.0222 12.9724 22.1213 12.6184 22.1884 12.2534ZM9.82735 11.3159H9.23849C8.81759 11.3159 8.4753 10.9734 8.4753 10.5527V8.63477C8.4753 8.3335 8.6506 8.07251 8.90475 7.94849V8.11768C8.90475 8.2439 8.95553 8.36475 9.04586 8.45288C9.13521 8.54004 9.25582 8.58838 9.38033 8.58643H9.3818C9.38204 8.58643 9.38228 8.58643 9.38253 8.58618H9.38424C9.38546 8.58643 9.44259 8.58569 9.53341 8.59473C9.57809 8.59912 9.63082 8.60596 9.68892 8.61597C9.73238 8.62378 9.77877 8.6333 9.8276 8.64526V11.3159H9.82735ZM12.3833 14.8752C11.4658 14.0852 10.8884 12.9607 10.7509 11.7004C10.7578 11.6667 10.7624 11.6323 10.7641 11.5969C10.7641 11.5969 10.7641 11.5967 10.7641 11.5964C10.7644 11.5908 10.7646 11.5852 10.7646 11.5798C10.7649 11.574 10.7649 11.5681 10.7649 11.5623V9.15405C10.7666 9.15454 10.768 9.15503 10.7697 9.15552C10.7722 9.15625 10.7744 9.15698 10.7768 9.15771C10.7785 9.1582 10.7807 9.15869 10.7827 9.15918C10.7849 9.15991 10.7871 9.1604 10.7893 9.16113C10.7912 9.16162 10.7932 9.16211 10.7951 9.1626C10.7976 9.16333 10.7998 9.16382 10.8022 9.16431C10.8042 9.16479 10.8059 9.16528 10.8078 9.16577C10.8105 9.16626 10.8132 9.16699 10.8159 9.16748C10.8173 9.16772 10.8188 9.16821 10.8203 9.16846C10.8247 9.16943 10.8288 9.17041 10.8332 9.17114H10.8335C10.8376 9.17212 10.842 9.17285 10.8462 9.17358C10.8474 9.17383 10.8483 9.17383 10.8493 9.17407C10.8527 9.17456 10.8562 9.17529 10.8593 9.17578C10.8606 9.17578 10.8618 9.17603 10.863 9.17627C10.8664 9.17676 10.8696 9.17725 10.873 9.17773C10.874 9.17773 10.8752 9.17798 10.8762 9.17798C10.8798 9.17847 10.8837 9.17896 10.8874 9.1792C10.8881 9.17944 10.8886 9.17944 10.8894 9.17944C10.903 9.18091 10.9167 9.18188 10.9304 9.18262H10.9318C10.936 9.18286 10.9401 9.18286 10.9443 9.18286C10.9448 9.18286 10.9453 9.18286 10.946 9.18311H10.9587H10.9594C10.9829 9.18311 11.0063 9.18164 11.03 9.1792C11.0488 9.177 11.0676 9.17407 11.0861 9.17041H11.0866C11.091 9.16943 11.0954 9.16846 11.0998 9.16748C11.1003 9.16748 11.1005 9.16748 11.1008 9.16724C11.1052 9.16626 11.1096 9.16528 11.1142 9.16431L11.1145 9.16406C11.1284 9.16064 11.142 9.15698 11.1557 9.15259C11.1562 9.15234 11.1569 9.1521 11.1574 9.1521C11.1611 9.15088 11.165 9.14966 11.1687 9.14819C11.1696 9.14795 11.1709 9.14771 11.1718 9.14722C11.175 9.14624 11.1784 9.14502 11.1818 9.1438C11.1831 9.14331 11.184 9.14282 11.1853 9.14233C11.1887 9.14136 11.1919 9.13989 11.1953 9.13867C11.1962 9.13818 11.1972 9.13794 11.1984 9.13745C11.2026 9.13574 11.207 9.13403 11.2111 9.13232C11.4572 9.02979 11.6159 8.7915 11.6159 8.52515V5.04956C11.6159 4.52466 12.0429 4.09766 12.5678 4.09766H13.8586C14.0883 4.09766 14.3129 4.17773 14.4907 4.32324L14.6174 4.42676C15.0168 4.75342 15.521 4.93311 16.0371 4.93311C16.5529 4.93311 17.0571 4.75342 17.4567 4.42676L17.5832 4.32324C17.7612 4.17773 17.9856 4.09766 18.2153 4.09766H19.5061C20.031 4.09766 20.458 4.52466 20.458 5.04956V8.52539C20.458 8.7915 20.6169 9.02979 20.8628 9.13232C20.8676 9.13428 20.8725 9.13647 20.8774 9.13818C20.8789 9.13892 20.8806 9.1394 20.8823 9.14014C20.8855 9.14136 20.8886 9.14258 20.8921 9.1438C20.894 9.14453 20.896 9.14502 20.8979 9.14575C20.9008 9.14673 20.9038 9.14771 20.9065 9.14893C20.9089 9.14966 20.9111 9.15039 20.9133 9.15088C20.916 9.15186 20.9187 9.15283 20.9213 9.15356C20.9235 9.1543 20.926 9.15503 20.9282 9.15576C20.9309 9.15649 20.9336 9.15723 20.9362 9.15796C20.9384 9.15869 20.9409 9.15942 20.9433 9.15991C20.946 9.16064 20.9487 9.16138 20.9514 9.16211C20.9536 9.16284 20.9558 9.16333 20.958 9.16382C20.9611 9.16455 20.9643 9.16528 20.9675 9.16602C20.9692 9.1665 20.9712 9.16699 20.9731 9.16748C20.978 9.16846 20.9829 9.16968 20.9875 9.17041C20.9895 9.1709 20.9912 9.17114 20.9931 9.17163C20.9963 9.17212 20.9995 9.17285 21.0026 9.17334C21.0048 9.17383 21.007 9.17407 21.0095 9.17456C21.0122 9.17505 21.0149 9.17529 21.0175 9.17578C21.02 9.17627 21.0224 9.17651 21.0249 9.17676C21.0275 9.17725 21.0302 9.17773 21.0329 9.17798C21.0351 9.17822 21.0373 9.17847 21.0398 9.17871C21.0427 9.17896 21.0454 9.17944 21.0483 9.17969C21.0505 9.17993 21.0527 9.18018 21.0546 9.18042C21.0578 9.18066 21.061 9.18091 21.0642 9.18115C21.0661 9.18115 21.0678 9.1814 21.0698 9.18164C21.0734 9.18188 21.0771 9.18213 21.0808 9.18213C21.082 9.18237 21.0835 9.18237 21.0847 9.18262C21.1003 9.18335 21.1157 9.18335 21.1311 9.18311H21.134C21.1379 9.18286 21.1421 9.18286 21.1462 9.18262C21.1474 9.18262 21.1486 9.18237 21.1501 9.18237C21.1538 9.18213 21.1577 9.18188 21.1613 9.18164C21.1628 9.18164 21.1643 9.1814 21.1657 9.1814C21.1694 9.18115 21.1731 9.18066 21.177 9.18042C21.1782 9.18042 21.1794 9.18018 21.1809 9.18018C21.1848 9.17969 21.1887 9.1792 21.1926 9.17871C21.1938 9.17871 21.1948 9.17847 21.196 9.17847C21.2002 9.17798 21.2043 9.17725 21.2087 9.17676C21.2094 9.17651 21.2102 9.17651 21.2109 9.17627C21.2263 9.17407 21.2414 9.17139 21.2566 9.16797C21.2573 9.16772 21.258 9.16772 21.2588 9.16748C21.2629 9.1665 21.2671 9.16553 21.2712 9.16455C21.2724 9.16431 21.2736 9.16382 21.2751 9.16357C21.2785 9.16284 21.2822 9.16187 21.2859 9.16089C21.2873 9.1604 21.2888 9.15991 21.2902 9.15967C21.2937 9.15869 21.2971 9.15771 21.3007 9.15674C21.302 9.15625 21.3034 9.15576 21.3046 9.15552C21.3061 9.15503 21.3076 9.15454 21.3088 9.1543V11.5623C21.3088 11.5681 21.3088 11.574 21.309 11.5798C21.3093 11.5854 21.3095 11.5911 21.3098 11.5967V11.5972C21.3115 11.6323 21.3159 11.667 21.3227 11.7007C21.2551 12.322 21.0803 12.9104 20.8105 13.4419L18.8042 13.6841C18.7258 13.5461 18.6206 13.4236 18.4919 13.3228C18.2324 13.1194 17.9091 13.0293 17.582 13.0688L16.698 13.176C16.0224 13.2581 15.5393 13.8743 15.6213 14.55C15.6972 15.1753 16.2309 15.6357 16.8457 15.6357C16.895 15.6357 16.9448 15.6328 16.9951 15.6267L17.8791 15.5195C18.2065 15.4797 18.4987 15.3149 18.7021 15.0554C18.8064 14.9224 18.8808 14.7725 18.9233 14.614L20.104 14.4717C19.9751 14.6143 19.8371 14.749 19.6904 14.8755C19.4104 15.1167 19.1186 15.3271 18.8159 15.5066C18.8081 15.5105 18.8003 15.5146 18.7927 15.5193C17.9668 16.0029 17.0571 16.2583 16.0883 16.2781C16.0849 16.2783 16.0817 16.2783 16.0783 16.2783C16.0647 16.2786 16.0507 16.2788 16.0371 16.2791C16.0232 16.2788 16.0092 16.2788 15.9956 16.2783C15.9921 16.2783 15.989 16.2783 15.9856 16.2781C15.0166 16.2583 14.1071 16.0029 13.2812 15.5193C13.2736 15.5146 13.2661 15.5105 13.2583 15.5066C12.9553 15.3271 12.6635 15.1165 12.3833 14.8752ZM17.9638 14.4771C17.915 14.5396 17.8447 14.5791 17.7661 14.5886L16.882 14.6958C16.7197 14.7156 16.5715 14.5994 16.5517 14.437C16.5319 14.2747 16.6482 14.1265 16.8105 14.1067L17.6945 13.9995C17.7067 13.998 17.7187 13.9973 17.7304 13.9973C17.8784 13.9973 18.0066 14.1079 18.0249 14.2583C18.0344 14.3372 18.0127 14.4148 17.9638 14.4771ZM18.592 18.1572H13.4814C13.5022 18.0425 13.5129 17.9277 13.5129 17.8152V16.6892C14.2617 17.0139 15.0617 17.1897 15.9069 17.2139H15.9074C15.9196 17.2144 15.9318 17.2146 15.9441 17.2148C15.9462 17.2148 15.9482 17.2151 15.9504 17.2151C15.9611 17.2153 15.9719 17.2156 15.9826 17.2156C15.9856 17.2158 15.9887 17.2158 15.9917 17.2158C16.0044 17.2161 16.0173 17.2163 16.0302 17.2166H16.0315H16.042H16.0432C16.0561 17.2163 16.0688 17.2161 16.0817 17.2158C16.0847 17.2158 16.0879 17.2158 16.0908 17.2156C16.1015 17.2156 16.1123 17.2153 16.123 17.2151C16.1252 17.2151 16.1272 17.2148 16.1294 17.2148C16.1416 17.2146 16.1538 17.2144 16.166 17.2139H16.1665C17.0117 17.1897 17.8117 17.0139 18.5605 16.6892V17.8152C18.5608 17.9277 18.5713 18.0425 18.592 18.1572ZM3.52511 31.0625H3.15914C2.96456 31.0625 2.78097 30.9773 2.65548 30.8284C2.52999 30.6797 2.47677 30.4844 2.50948 30.2925L3.60982 23.8499C3.74093 23.0825 4.11422 22.3887 4.66598 21.8611L5.12057 29.2073H4.84395C4.07393 29.2073 3.44747 29.8337 3.44747 30.6035C3.44771 30.7644 3.47506 30.9187 3.52511 31.0625ZM27.2295 31.0625H4.84395C4.59102 31.0625 4.38521 30.8567 4.38521 30.6038C4.38521 30.3506 4.59102 30.1448 4.84395 30.1448H7.19283C7.45162 30.1448 7.66158 29.9351 7.66158 29.676C7.66158 29.4172 7.45162 29.2073 7.19283 29.2073H6.06002L5.46798 19.644C5.45919 19.5 5.5085 19.3628 5.60738 19.2576C5.70626 19.1526 5.84029 19.0947 5.98433 19.0947H26.0891C26.2334 19.0947 26.3672 19.1526 26.466 19.2576C26.5649 19.3628 26.6145 19.5 26.6054 19.644L26.0134 29.2073H9.3735C9.11446 29.2073 8.90475 29.4172 8.90475 29.676C8.90475 29.9351 9.11446 30.1448 9.3735 30.1448H27.2295C27.4824 30.1448 27.6882 30.3506 27.6882 30.6035C27.6882 30.8567 27.4826 31.0625 27.2295 31.0625ZM29.4182 30.8284C29.2927 30.9773 29.1089 31.0625 28.9143 31.0625H28.5483C28.5986 30.9187 28.6257 30.7644 28.6257 30.6038C28.6257 29.8337 27.9995 29.2073 27.2295 29.2073H26.9526L27.4074 21.8613C27.9589 22.3887 28.3325 23.0825 28.4633 23.8499L29.5639 30.2925C29.5966 30.4844 29.5437 30.6797 29.4182 30.8284Z",fill:"#90B524"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_923_297",children:(0,i.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]});s(8252);var l=s(9712),c=s(130);const h=()=>{const[C,e]=(0,n.useState)(null),[s,h]=(0,n.useState)([]),[d,u]=(0,n.useState)(""),[g,m]=(0,n.useState)(null),[,p]=(0,n.useState)(!1),L=(0,n.useRef)(null),[x,H]=(0,n.useState)([]),f=localStorage.getItem("shlen_user_id");(0,n.useEffect)((()=>{try{const C=localStorage.getItem("shlen_token"),s=(new t.$).withUrl(`${c.T}/chathub?access_token=${C}`).withAutomaticReconnect().build();return s.start().then((()=>{console.log("\ud83d\udce1 Admin Connected!"),p(!0)})).catch((C=>{console.error("\u274c Connection Error: ",C),p(!1)})),s.on("ReceiveMessage",((C,e)=>{g===C&&w(e,"user"),j(C)})),e(s),()=>{s.stop()}}catch{}}),[g]);const j=async C=>{if("admin"!==C&&"System"!==C){const s=localStorage.getItem("shlen_token");try{const e=(await a.A.get(`${c.T}/api/MessageUser/user/get-info?username=${C}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data;H((s=>{const t=s.findIndex((e=>e.username===C));if(-1!==t){const C=[...s],[e]=C.splice(t,1);return C.unshift(e),C}return[...s,e]}))}catch(e){console.error("Error fetching user info:",e)}}};(0,n.useEffect)((()=>{try{if(g){const C=localStorage.getItem("shlen_token");a.A.get(`${c.T}/api/MessageUser/messages/by-username?username=${g}`,{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}}).then((C=>{const e=C.data.messages.map((C=>({user:"user"===C.sender_type?"user":"Admin",message:C.message_text})));h(e)})).catch((C=>{console.error("Error fetching messages: ",C)}))}}catch{}}),[g]),(0,n.useEffect)((()=>{try{const C=localStorage.getItem("shlen_token");a.A.get(`${c.T}/api/MessageUser/users`,{headers:{Authorization:`Bearer ${C}`}}).then((C=>{C.data&&H(C.data.users)}))}catch(C){}}),[]),(0,n.useEffect)((()=>{var C;null===(C=L.current)||void 0===C||C.scrollIntoView({behavior:"smooth"})}),[s]);const w=(C,e)=>{h((s=>[...s,{user:e,message:C}]))};return(0,i.jsxs)("div",{className:"admin-chat",children:[(0,i.jsx)("div",{className:"chat-users",children:(0,i.jsx)("ul",{children:null!==x&&void 0!==x&&x.length?x.map((C=>(0,i.jsxs)("li",{className:g===C.username?"active":"",onClick:()=>m(C.username),children:[(0,i.jsxs)("div",{className:"icon-user",children:[" ",(0,i.jsx)(o,{})," ",C.username]})," ",g===C.username&&(0,i.jsx)(r.R,{})]},C.id))):(0,i.jsx)("span",{children:"\u0644\u0627\u064a\u0648\u062c\u062f \u0627\u064a \u0627\u0634\u062e\u0627\u0635"})})}),(0,i.jsxs)("form",{onSubmit:e=>{const s=localStorage.getItem("shlen_token");e.preventDefault(),u(""),C&&d.trim()&&g&&C.invoke("SendMessageToUser",g,d).then((async()=>{const C=x.find((C=>C.username===g));await a.A.post(`${c.T}/api/MessageUser/send-message-admin`,{userId:null===C||void 0===C?void 0:C.id,messageText:d,replyTo:f},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}}),w(d,"Admin")})).catch((C=>console.error("\u274c Error sending message: ",C)))},className:"user-chat",children:[(0,i.jsx)("h2",{children:g?`\u0645\u062d\u0627\u062f\u062b\u0629 \u0645\u0639 ${g}`:"\u064a\u0631\u062c\u0649 \u062a\u062d\u062f\u064a\u062f \u0645\u0633\u062a\u062e\u062f\u0645 \u0644\u0628\u062f\u0621 \u0627\u0644\u062f\u0631\u062f\u0634\u0629"}),(0,i.jsxs)("ul",{children:[s.map(((C,e)=>(0,i.jsx)("li",{className:"System"===C.user||"Admin"===C.user?"right":"left",children:(0,i.jsx)("span",{children:C.message})},e))),(0,i.jsx)("div",{ref:L})]}),(0,i.jsxs)("div",{className:"input-group-chat",children:[(0,i.jsx)("input",{type:"text",value:d,onChange:C=>u(C.target.value),placeholder:"\u0623\u0631\u0633\u0644 \u0631\u0633\u0627\u0644\u0629"}),(0,i.jsx)("button",{type:"submit",children:(0,i.jsx)(l.A,{})})]})]})]})}},8252:()=>{},9712:(C,e,s)=>{s.d(e,{A:()=>n});var t=s(579);const n=()=>(0,t.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("rect",{width:"40",height:"40",rx:"20",transform:"matrix(-1 0 0 1 40 0)",fill:"#81A321"}),(0,t.jsx)("path",{d:"M24.3333 20L27 28L11 20L27 12L24.3333 20ZM24.3333 20H19",stroke:"#FCFCFC","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}}]);
//# sourceMappingURL=364.8cfd775c.chunk.js.map