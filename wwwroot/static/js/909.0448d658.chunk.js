"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[909],{130:(s,e,a)=>{a.d(e,{T:()=>n});const n="https://localhost:5280"},7953:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var n=a(5043),r=a(579);const i=()=>(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M10 21H14C14 22.1 13.1 23 12 23C10.9 23 10 22.1 10 21ZM21 19V20H3V19L5 17V11C5 7.9 7 5.2 10 4.3V4C10 2.9 10.9 2 12 2C13.1 2 14 2.9 14 4V4.3C17 5.2 19 7.9 19 11V17L21 19ZM17 11C17 8.2 14.8 6 12 6C9.2 6 7 8.2 7 11V18H17V11Z",fill:"#2B2B2B"})}),c=a.p+"static/media/userheader.7abd2ed0b9e88e98d6c7.png";var t=a(6213),l=a(1675),d=a(130);const h=()=>{const[s,e]=(0,n.useState)([]),a=localStorage.getItem("shlen_token"),h=localStorage.getItem("shlen_user_name"),o=async()=>{try{const s=await t.A.get(`${d.T}/api/Users/all`,{headers:{Authorization:`Bearer ${a}`}});Array.isArray(s.data)?e(s.data):console.error("\u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u0631\u062c\u0639\u0629 \u0644\u064a\u0633\u062a \u0645\u0635\u0641\u0648\u0641\u0629:",s.data)}catch(s){console.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646:",s)}};(0,n.useEffect)((()=>{o()}),[]);return(0,r.jsxs)("div",{className:"user-dashboard",children:[(0,r.jsxs)("header",{className:"header",children:[(0,r.jsxs)("div",{className:"user-info",children:[(0,r.jsx)("div",{className:"photo",children:(0,r.jsx)("img",{src:c,alt:"User"})}),(0,r.jsxs)("div",{className:"info-content",children:[(0,r.jsx)("div",{className:"user-name",children:h}),(0,r.jsx)("div",{className:"user-role",children:"\u0645\u0634\u0631\u0641"})]}),(0,r.jsx)("div",{className:"notification",children:(0,r.jsx)(i,{})})]}),(0,r.jsx)(l.k2,{to:"add",children:(0,r.jsx)("button",{className:"add-user-btn",children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0634\u0631\u0641 \u062c\u062f\u064a\u062f"})})]}),(0,r.jsxs)("ul",{className:"user-list",children:[(0,r.jsxs)("li",{className:"user-item",children:[(0,r.jsx)("span",{children:"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,r.jsx)("span",{children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"}),(0,r.jsx)("span",{children:"\u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,r.jsx)("span",{children:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,r.jsx)("span",{children:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"})]}),Array.isArray(s)&&s.length>0?s.map((s=>h!==s.user_name&&(0,r.jsxs)("li",{className:"user-item",children:[(0,r.jsx)("span",{children:s.fullname}),(0,r.jsx)("span",{children:"********"}),(0,r.jsx)("span",{children:s.phone_number}),(0,r.jsx)("span",{children:"admin"===s.role?"\u0645\u0634\u0631\u0641":"\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,r.jsx)("span",{children:(0,r.jsx)("button",{className:s.is_active?"btn-none":"btn-active",onClick:()=>(async(s,n)=>{try{await t.A.put(`${d.T}/api/Users/toggle-active/${s}`,!n,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),e((e=>e.map((e=>e.id===s?{...e,is_active:!n}:e))))}catch(r){console.error(`\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 (ID: ${s}):`,r)}})(s.id,s.is_active),children:s.is_active?"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062a\u0641\u0639\u064a\u0644":"\u062a\u0641\u0639\u064a\u0644"})})]},s.id))):(0,r.jsx)("p",{className:"no_users",children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0639\u0631\u0636\u0647\u0627"})]}),(0,r.jsx)(l.sv,{context:{getUsers:o}})]})}}}]);
//# sourceMappingURL=909.0448d658.chunk.js.map