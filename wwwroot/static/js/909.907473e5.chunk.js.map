{"version":3,"file":"static/js/909.907473e5.chunk.js","mappings":"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","sources":["API.tsx","assets/Icons/NotficationIcon.tsx","Dashboard/Page/UsersDashBoard.tsx"],"sourcesContent":["/* export const ApiHost = `https://localhost:5280` */\r\nexport const ApiHost = ``","\r\nconst NotficationIcon = () => {\r\n  return (\r\n    <svg\r\n      width=\"24\"\r\n      height=\"24\"\r\n      viewBox=\"0 0 24 24\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M10 21H14C14 22.1 13.1 23 12 23C10.9 23 10 22.1 10 21ZM21 19V20H3V19L5 17V11C5 7.9 7 5.2 10 4.3V4C10 2.9 10.9 2 12 2C13.1 2 14 2.9 14 4V4.3C17 5.2 19 7.9 19 11V17L21 19ZM17 11C17 8.2 14.8 6 12 6C9.2 6 7 8.2 7 11V18H17V11Z\"\r\n        fill=\"#2B2B2B\"\r\n      />\r\n\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default NotficationIcon;\r\n","import { useEffect, useState } from \"react\";\r\nimport NotificationIcon from \"../../assets/Icons/NotficationIcon\"; // تم تصحيح الكتابة\r\nimport UserPhoto from \"../../assets/Images/userheader.png\";\r\nimport axios from \"axios\";\r\nimport { NavLink, Outlet } from \"react-router-dom\";\r\nimport { ApiHost } from \"../../API\";\r\n\r\ntype User = {\r\n  id: number;\r\n  fullname: string;\r\n  user_name: string;\r\n  password: string;\r\n  phone_number: string;\r\n  role: string;\r\n  is_active: boolean;\r\n};\r\n\r\nconst UsersDashBoard = () => {\r\n  const [userData, setUserData] = useState<User[]>([]);\r\n  const token = localStorage.getItem(\"shlen_token\");\r\n  const userName = localStorage.getItem(\"shlen_user_name\");\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      const response = await axios.get(`${ApiHost}/api/Users/all`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n  \r\n      if (Array.isArray(response.data)) {\r\n        setUserData(response.data);\r\n      } else {\r\n        console.error(\"البيانات المسترجعة ليست مصفوفة:\", response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"حدث خطأ أثناء جلب بيانات المستخدمين:\", error);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    getUsers();\r\n  }, []);\r\n  \r\n  const toggleUserActive = async (id: number, isActive: boolean) => {\r\n    try {\r\n      await axios.put(\r\n        `${ApiHost}/api/Users/toggle-active/${id}`,\r\n        !isActive, \r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      );\r\n  \r\n      setUserData((prevData) =>\r\n        prevData.map((user) =>\r\n          user.id === id ? { ...user, is_active: !isActive } : user\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error(`حدث خطأ أثناء تحديث حالة المستخدم (ID: ${id}):`, error);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"user-dashboard\">\r\n      <header className=\"header\">\r\n        <div className=\"user-info\">\r\n          <div className=\"photo\">\r\n            <img src={UserPhoto} alt=\"User\" />\r\n          </div>\r\n          <div className=\"info-content\">\r\n            <div className=\"user-name\">{userName}</div>\r\n            <div className=\"user-role\">مشرف</div>\r\n          </div>\r\n          <div className=\"notification\">\r\n            <NotificationIcon />\r\n          </div>\r\n        </div>\r\n        <NavLink to={\"add\"}>\r\n          <button className=\"add-user-btn\">إضافة مشرف جديد</button>\r\n        </NavLink>\r\n      </header>\r\n      <ul className=\"user-list\">\r\n        <li className=\"user-item\">\r\n          <span>أسم المستخدم</span>\r\n          <span>كلمة السر</span>\r\n          <span>رقم المستخدم</span>\r\n          <span>نوع المستخدم</span>\r\n          <span>حالة المستخدم</span>\r\n        </li>\r\n        {Array.isArray(userData) && userData.length > 0 ? (\r\n          userData.map(\r\n            (user) =>\r\n              userName !== user.user_name && (\r\n                <li key={user.id} className=\"user-item\">\r\n                  <span>{user.fullname}</span>\r\n                  <span>********</span>\r\n                  <span>{user.phone_number}</span>\r\n                  <span>{user.role === \"admin\" ? \"مشرف\" : \"مستخدم\"}</span>\r\n                  <span>\r\n                    <button\r\n                      className={user.is_active ? \"btn-none\" : \"btn-active\"}\r\n                      onClick={() => toggleUserActive(user.id, user.is_active)}\r\n                    >\r\n                      {user.is_active ? \"إلغاء التفعيل\" : \"تفعيل\"}\r\n                    </button>\r\n                  </span>\r\n                </li>\r\n              )\r\n          )\r\n        ) : (\r\n          <p className=\"no_users\">لا توجد بيانات لعرضها</p >\r\n        )}\r\n\r\n      </ul>\r\n      <Outlet context={{ getUsers }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersDashBoard;\r\n"],"names":["ApiHost","NotficationIcon","_jsx","width","height","viewBox","fill","xmlns","children","d","UsersDashBoard","userData","setUserData","useState","token","localStorage","getItem","userName","getUsers","async","response","axios","get","headers","Authorization","Array","isArray","data","console","error","useEffect","_jsxs","className","src","UserPhoto","alt","NotificationIcon","NavLink","to","length","map","user","user_name","fullname","phone_number","role","is_active","onClick","id","isActive","put","prevData","toggleUserActive","Outlet","context"],"sourceRoot":""}