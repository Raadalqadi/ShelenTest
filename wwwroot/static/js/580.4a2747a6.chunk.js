"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[580],{130:(e,s,a)=>{a.d(s,{T:()=>r});const r="https://localhost:5280"},2580:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var r=a(5043),n=a(6213),l=a(1675),o=a(130),t=a(579);const i=()=>{const{getUsers:e}=(0,l.KC)(),s=(0,l.Zp)(),[a,i]=(0,r.useState)(!1),[u,p]=(0,r.useState)({fullname:"",user_name:"",phone_number:"",password:"",confirmPassword:"",role:"",is_active:!0}),[d,c]=(0,r.useState)(""),m=e=>{p({...u,[e.target.name]:e.target.value}),c("")};return(0,t.jsxs)("form",{className:"add-user-form",onSubmit:async a=>{if(a.preventDefault(),i(!0),u.password.length<8)c("\u064a\u062c\u0628 \u0623\u0646 \u062a\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 8 \u0623\u062d\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644");else if(u.password===u.confirmPassword)try{const a=localStorage.getItem("shlen_token");await n.A.post(`${o.T}/api/Users/add`,{fullname:u.fullname,user_name:u.user_name,phone_number:u.phone_number,password:u.password,role:u.role,is_active:u.is_active},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}),alert("\u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0646\u062c\u0627\u062d"),e(),p({fullname:"",user_name:"",phone_number:"",password:"",confirmPassword:"",role:"",is_active:!0}),s(-1)}catch(d){console.error("\u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629:",d),c("\u0641\u0634\u0644 \u0641\u064a \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u060c \u062a\u062d\u0642\u0642 \u0645\u0646 \u0627\u0644\u0627\u062a\u0635\u0627\u0644 \u0628\u0627\u0644\u062e\u0627\u062f\u0645")}finally{i(!1)}else c("\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u063a\u064a\u0631 \u0645\u062a\u0637\u0627\u0628\u0642\u0629")},children:[(0,t.jsx)("h4",{children:"\u0623\u0636\u0641 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,t.jsx)("div",{className:"input-group",children:(0,t.jsx)("input",{type:"text",name:"fullname",value:u.fullname,onChange:m,placeholder:"\u0623\u0636\u0641 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0643\u0627\u0645\u0644",required:!0})}),(0,t.jsx)("div",{className:"input-group",children:(0,t.jsx)("input",{type:"text",name:"user_name",value:u.user_name,onChange:m,placeholder:"\u0623\u0636\u0641 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",required:!0})}),(0,t.jsx)("div",{className:"input-group",children:(0,t.jsx)("input",{type:"text",name:"phone_number",value:u.phone_number,onChange:m,placeholder:"\u0623\u0636\u0641 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641",required:!0})}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("input",{type:"password",name:"password",value:u.password,onChange:m,placeholder:"\u0623\u0636\u0641 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631",required:!0}),(0,t.jsx)("label",{children:"\u064a\u062c\u0628 \u0623\u0646 \u0644\u0627 \u062a\u0642\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0646 8 \u0623\u062d\u0631\u0641"})]}),(0,t.jsx)("div",{className:"input-group",children:(0,t.jsx)("input",{type:"password",name:"confirmPassword",value:u.confirmPassword,onChange:m,placeholder:"\u062a\u0623\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631",required:!0})}),(0,t.jsx)("div",{className:"input-group",children:(0,t.jsxs)("select",{name:"role",value:u.role,onChange:m,required:!0,children:[(0,t.jsx)("option",{value:"",children:"\u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),(0,t.jsx)("option",{value:"admin",children:"\u0645\u062f\u064a\u0631"}),(0,t.jsx)("option",{value:"user",children:"\u0645\u0633\u062a\u062e\u062f\u0645"})]})}),d&&(0,t.jsx)("p",{className:"error-message",children:d}),(0,t.jsx)("button",{disabled:a,type:"submit",children:a?"\u062c\u0627\u0631\u064a \u0627\u0644\u0627\u0636\u0627\u0641\u0647 ...":"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f "}),(0,t.jsx)("button",{type:"button",onClick:()=>{s(-1)},children:"\u0627\u0644\u0631\u062c\u0648\u0639"})]})}}}]);
//# sourceMappingURL=580.4a2747a6.chunk.js.map